# League of Legends 티어 예측 프로젝트

---

## **What is this?**

- 라이엇 open API를 활용하여 획득한 인 게임 데이터를 활용하여 티어 예측 모델을 개발하는 프로젝트다.

---

## **Features**

- open API를 활용한 데이터 추출 및 저장 코드는 *라이엇open API* 코드를 통해 확인할 수 있다.

---

## **데이터 수집**

> Click [here](https://developer.riotgames.com/)

- 위 사이트의 OPEN API 호출을 통해 인게임 데이터를 얻는 방식이다.

- 단, 게임 내 데이터를 뽑아내는게 목적이므로 아래와 같은 과정을 통한다.

  1. 티어별로 특정 조건을 만족하는 summoner_id와 rank를 추출한다.

  2. 위에서 뽑아낸 summoner_id를 통해 puuid를 추출한다.

  3. 위에서 뽑아낸 puuid를 통해 matchid를 추출한다.

  4. 위에서 뽑아낸 matchid를 통해 인 게임 내 데이터를 meta_json형식으로 추출한다.

- 게임 내부의 사정에 따라 여러 조건(승률 등)에 부합하는 데이터만을 추출했다.

  - 인 게임 정보를 담고 있는 meta_json 데이터에는 선택 챔피언, 와드 설치 개수, KDA부터 팀 지표와 라이엇에서 자체적으로 계산한 여러 점수들이 포함되어 변수가 수십가지에 다다른다.

  ***

## **API 이용 주의사항**

- 위 라이엇 사이트에 가입한 뒤, 발급받는 임시 API KEY가 필요하다.
- 해당 키는 유통기한이 1일이며, 주기적으로 계속 발급받아야한다.
- 허나, 유통기한이 만료되기 전에 계속 발급받게되면 업데이트되지 않는 오류?가 존재한다.
- 이에 만약 API 호출을 통해 데이터를 불러오는 중에 API키가 만료된다면, 셀이 터진다.

- 또, 라이엇 자체적으로 API 요청 제한 규정이 있다. 내용은 다음과 같다.

  > Rate Limits

- 20 requests every 1 seconds(s)
- 100 requests every 2 minutes(s)

- 해당 제한을 넘기게되면 호출 에러가 뜨면서 역시나 셀이 터지기에 시간에 잘 유의할 필요성이 있다.

- 이러한 문제 때문에 사실상 반수동에 가까운 노동작업으로 단계를 끊어가며 데이터를 수집해야했다.

- 또한, 이러한 문제 때문에 셀당 지속적인 파일 저장 방식을 택했음을 알린다.
=======
- 이러한 문제 때문에 사실상 반수동에 가까운 노동작업으로 단계를 끊어가며 진행해야했다.
- 또한, 이러한 문제 때문에 셀이 단계별로 실행되는 코랩에서 진행하였다.
- 단위 사이클(하루) 당 약 6만개의 데이터를 추출할 수 있다.

> 본 프로젝트는 라이엇 게임즈의 공식 API를 사용하여 개발되었으며, 이 프로젝트에서 사용된 데이터와 콘텐츠는 모두 라이엇 게임즈의 소유입니다. '리그 오브 레전드'와 관련된 모든 저작권 및 상표권은 라이엇 게임즈에 귀속됩니다. 이 프로젝트는 라이엇 게임즈와 직접적인 연관이 없으며, 그들의 승인을 받은 것이 아닙니다.

## **수집한 반정형 데이터 구조**

- 최종적으로 획득한 **meta 데이터**는 json 형식으로 크게 다음과 같은 형식을 따른다.

  - 최종적으로는 json 파일이나 딕셔너리 안에 딕셔너리가 겹겹이 쌓여진 구조.

    - (~~다른 설명법을 못 찾겠다~~)

  - 크게 metadata, info, participants로 구성되어 있는데, 우리가 원하는 특정 인원의 인 게임 데이터는 participants 키 내부에 존재한다.

  - 여기서 문제는 해당 게임은 팀 게임이기에 총 10명의 participant가 존재한다는 점이다.

  - 우리는 특정 룰에 따라 데이터를 수집했고 따라서, 이에 해당하는 데이터만이 필요하므로 이를 추출할 전처리가 필요했다.

  - 다행이도 셀 당 저장하는 형태로 프로젝트를 진행했기에 *summonerId*가 변수로 저장되어있었고 이를 활용하여 json 데이터를 파싱한 뒤, 조건을 활용하여 추출해냈다.
 
  - 해당 내용은 *JSON preprocessing* 코드에 있다.
